name: "FHIR IG Action"
description: "Worklow pour les IG de l'ANS"
inputs:
  repo:
    description: "Chemin d'accÃ©s au repertoire de l'IG"
    required: true
runs:
  using: "composite"
  steps:

      - name: Setup Python # Set Python version
        uses: actions/setup-python@v4
        with:
          python-version: '3.10' 

      - name: Install requests
        shell: bash   
        run : pip install requests

      - name: Install lxml
        shell: bash   
        run : pip install lxml

      - name: Install glob
        shell: bash   
        run : pip install glob2


  
      - name: Run script validation      
        shell: bash   
        continue-on-error: true
        run : |
              python ${{ github.action_path }}/tools/validate.py '${{ github.action_path }}' '${{ inputs.repo_ig}}' './rapport.html'
              echo "### Rapport de validation   :rocket:" >> $GITHUB_STEP_SUMMARY
              cat ./rapport.html >> $GITHUB_STEP_SUMMARY

       




branding:
  icon: 'check'
  color: 'blue'

          
